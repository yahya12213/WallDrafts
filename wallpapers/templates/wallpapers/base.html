
<!DOCTYPE html>
{% load static %}
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <!-- Primary Meta Tags -->
    <meta name="description" content="{% block meta_description %}Download thousands of free HD wallpapers for desktop. Curated collection of beautiful backgrounds updated daily. No registration required.{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}free wallpapers, HD wallpapers, desktop backgrounds, wallpaper download, 4K wallpapers, background images, computer wallpapers, PC backgrounds{% endblock %}">
    <meta name="author" content="WallDrafts">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:title" content="{% block og_title %}WallDrafts - Free HD Wallpapers for Desktop{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Download free HD wallpapers for desktop. No registration required. Thousands of beautiful backgrounds.{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{% static 'images/logo.png' %}{% endblock %}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="{{ request.build_absolute_uri }}">
    <meta name="twitter:title" content="{% block twitter_title %}WallDrafts - Free HD Wallpapers{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}Free HD wallpapers for desktop. No registration required. Download now!{% endblock %}">
    <meta name="twitter:image" content="{% block twitter_image %}{% static 'images/logo.png' %}{% endblock %}">

    <!-- Robots -->
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">

    <!-- Canonical URL -->
    <link rel="canonical" href="{{ request.build_absolute_uri }}">

    <!-- Structured Data / Schema.org -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "WallDrafts",
        "url": "https://www.walldrafts.com",
        "description": "Free HD wallpapers for desktop computers. Download thousands of beautiful backgrounds without registration.",
        "publisher": {
            "@type": "Organization",
            "name": "WallDrafts",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.walldrafts.com{% static 'images/logo.png' %}",
                "width": 512,
                "height": 512
            }
        },
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://www.walldrafts.com/search/?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>

    <!-- Additional Schema for Local Business (Optional) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "WallDrafts",
        "url": "https://www.walldrafts.com",
        "logo": "https://www.walldrafts.com{% static 'images/logo.png' %}",
        "description": "Free HD wallpapers download service"
    }
    </script>

    <title>{% block title %}WallDrafts - Free HD Wallpapers for Desktop{% endblock %}</title>
    <link rel="icon" type="image/png" href="{% static 'images/logo.png' %}">

    <!-- Preload critical assets -->
    <link rel="preload" href="{% static 'fonts/Audiowide-Regular.ttf' %}" as="font" type="font/ttf" crossorigin>
    <link rel="preload" href="{% static 'css/main.css' %}" as="style">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Custom Font -->
    <style>
        @font-face {
            font-family: 'Audiowide';
            src: url('{% static "fonts/Audiowide-Regular.ttf" %}') format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        /* Critical CSS for above-the-fold content */
        .critical-css {
            /* Add minimal styles needed for immediate rendering */
        }
    </style>

    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/animations.css' %}">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Breadcrumb Schema -->
    {% block breadcrumb_schema %}{% endblock %}

    {% block extra_css %}{% endblock %}


    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4TGJJ5X73Y"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4TGJJ5X73Y');
    </script>
</head>
<body>

    <!-- Theme Toggle -->
    <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark/light theme" title="Toggle theme">
        <i class="fas fa-sun"></i>
    </button>

    <!-- Cookie Consent -->
    <div id="cookieConsent" class="cookie-consent" role="dialog" aria-labelledby="cookieTitle">
        <div class="cookie-content">
            <div class="cookie-text">
                <h3 id="cookieTitle">üç™ Cookie Consent</h3>
                <p>
                    We use cookies to enhance your browsing experience.
                    <a href="{% url 'wallpapers:cookie_policy' %}" class="cookie-link">Learn more</a>
                </p>
            </div>
            <div class="cookie-actions">
                <button class="cookie-btn accept" id="acceptCookies" aria-label="Accept all cookies">
                    <i class="fas fa-check"></i> Accept All
                </button>
                <button class="cookie-btn reject" id="rejectCookies" aria-label="Reject all cookies">
                    <i class="fas fa-times"></i> Reject All
                </button>
            </div>
        </div>
    </div>

    <!-- Scroll to Top Button -->
    <button id="scrollToTop" class="scroll-to-top" aria-label="Scroll to top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- Header -->
    <header class="header" role="banner">
        <div class="container">
            <div class="header-inner">
                <!-- Logo -->
                <a href="{% url 'wallpapers:home' %}" class="logo" aria-label="WallDrafts homepage">
                    <div class="logo-image-wrapper">
                        <img src="{% static 'images/logo.png' %}" alt="WallDrafts Logo - Free HD Wallpapers" width="40" height="40" loading="lazy" class="logo-image">
                        <span class="logo-text">allDrafts</span>
                    </div>
                </a>

                <!-- Desktop Navigation -->
                <nav class="header-nav" role="navigation" aria-label="Main navigation">
                    <div class="nav-dropdown">
                        <button class="nav-link dropdown-btn" aria-expanded="false" aria-controls="categories-dropdown">
                            <i class="fas fa-th-large"></i>
                            <span>Categories</span>
                            <i class="fas fa-chevron-down dropdown-arrow"></i>
                        </button>
                        <div class="dropdown-content" id="categories-dropdown">
                            <a href="{% url 'wallpapers:categories' %}" class="dropdown-header">
                                <i class="fas fa-layer-group"></i> All Categories
                            </a>
                            {% for category in categories|slice:":6" %}
                            <a href="{% url 'wallpapers:category_detail' category.slug %}" class="dropdown-item">
                                {{ category.name }}
                                <span class="item-count">{{ category.total_wallpapers|default:0 }}</span>
                            </a>
                            {% endfor %}
                            {% if categories.count > 6 %}
                            <a href="{% url 'wallpapers:categories' %}" class="dropdown-footer">
                                View All <i class="fas fa-arrow-right"></i>
                            </a>
                            {% endif %}
                        </div>
                    </div>

                    <a href="{% url 'wallpapers:trending' %}" class="nav-link" aria-label="Trending wallpapers">
                        <i class="fas fa-fire"></i>
                        <span>Trending</span>
                    </a>

                    <a href="{% url 'wallpapers:random_wallpaper' %}" class="nav-link" aria-label="Random wallpaper">
                        <i class="fas fa-random"></i>
                        <span>Random</span>
                    </a>

                    <a href="{% url 'wallpapers:favorites' %}" class="nav-link" aria-label="My favorites">
                        <i class="far fa-star"></i>
                        <span>Favorites</span>
                    </a>

                    <!-- Search in Header -->
                    <div class="header-search" role="search">
                        <form action="{% url 'wallpapers:search' %}" method="GET" class="search-form" aria-label="Search wallpapers">
                            <div class="search-input-wrapper">
                                <i class="fas fa-search search-icon" aria-hidden="true"></i>
                                <input type="search" name="q" placeholder="Search wallpapers..." class="search-input"
                                       aria-label="Search for wallpapers" autocomplete="off">
                            </div>
                        </form>
                    </div>
                </nav>

                <!-- Mobile Menu Button -->
                <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Open mobile menu" aria-expanded="false" aria-controls="mobileMenu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay" role="presentation"></div>
    <div class="mobile-menu" id="mobileMenu" role="dialog" aria-labelledby="mobileMenuTitle">
        <div class="mobile-menu-header">
            <h3 id="mobileMenuTitle">Menu</h3>
            <button class="mobile-menu-close" id="mobileMenuClose" aria-label="Close mobile menu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-menu-content">
            <div class="mobile-search" role="search">
                <form action="{% url 'wallpapers:search' %}" method="GET" class="search-form" aria-label="Search wallpapers">
                    <div class="search-input-wrapper">
                        <i class="fas fa-search search-icon" aria-hidden="true"></i>
                        <input type="search" name="q" placeholder="Search wallpapers..." class="search-input"
                               aria-label="Search for wallpapers" autocomplete="off">
                    </div>
                </form>
            </div>
            <a href="{% url 'wallpapers:home' %}" class="mobile-menu-link" aria-label="Home">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="{% url 'wallpapers:categories' %}" class="mobile-menu-link" aria-label="Categories">
                <i class="fas fa-th-large"></i>
                <span>Categories</span>
            </a>
            <a href="{% url 'wallpapers:trending' %}" class="mobile-menu-link" aria-label="Trending wallpapers">
                <i class="fas fa-fire"></i>
                <span>Trending</span>
            </a>
            <a href="{% url 'wallpapers:random_wallpaper' %}" class="mobile-menu-link" aria-label="Random wallpaper">
                <i class="fas fa-random"></i>
                <span>Random</span>
            </a>
            <a href="{% url 'wallpapers:favorites' %}" class="mobile-menu-link" aria-label="My favorites">
                <i class="far fa-star"></i>
                <span>Favorites</span>
            </a>
            <div style="padding: 1rem; margin-top: 1rem; border-top: 1px solid var(--border-color);">
                <a href="{% url 'wallpapers:terms_of_service' %}" class="mobile-menu-link" style="background: transparent;">
                    <i class="fas fa-file-contract"></i>
                    <span>Terms</span>
                </a>
                <a href="{% url 'wallpapers:privacy_policy' %}" class="mobile-menu-link" style="background: transparent;">
                    <i class="fas fa-shield-alt"></i>
                    <span>Privacy</span>
                </a>
                <a href="{% url 'wallpapers:cookie_policy' %}" class="mobile-menu-link" style="background: transparent;">
                    <i class="fas fa-cookie-bite"></i>
                    <span>Cookies</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content" role="main">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <div class="footer-logo">
                        <div class="logo-image-wrapper">
                            <img src="{% static 'images/logo.png' %}" alt="WallDrafts Logo" width="40" height="40" loading="lazy" class="logo-image">
                            <span>allDrafts</span>
                        </div>
                    </div>
                    <p class="footer-description">
                        Your source for free high-quality wallpapers.
                        Thousands of HD backgrounds updated daily.
                    </p>
                    <div class="footer-social">
                        <a href="#" class="social-link" aria-label="Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="GitHub">
                            <i class="fab fa-github"></i>
                        </a>
                    </div>
                </div>

                <div class="footer-column">
                    <h4 class="footer-title">Explore</h4>
                    <a href="{% url 'wallpapers:home' %}" class="footer-link">Home</a>
                    <a href="{% url 'wallpapers:trending' %}" class="footer-link">Trending</a>
                    <a href="{% url 'wallpapers:random_wallpaper' %}" class="footer-link">Random</a>
                    <a href="{% url 'wallpapers:favorites' %}" class="footer-link">Favorites</a>
                </div>

                <div class="footer-column">
                    <h4 class="footer-title">Categories</h4>
                    {% for category in categories|slice:":4" %}
                    <a href="{% url 'wallpapers:category_detail' category.slug %}" class="footer-link">{{ category.name }}</a>
                    {% endfor %}
                    <a href="{% url 'wallpapers:categories' %}" class="footer-link view-all">All Categories</a>
                </div>

                <div class="footer-column">
                    <h4 class="footer-title">Legal</h4>
                    <a href="{% url 'wallpapers:terms_of_service' %}" class="footer-link">Terms of Service</a>
                    <a href="{% url 'wallpapers:privacy_policy' %}" class="footer-link">Privacy Policy</a>
                    <a href="{% url 'wallpapers:cookie_policy' %}" class="footer-link">Cookie Policy</a>
                    <a href="{% url 'wallpapers:dmca' %}" class="footer-link">DMCA</a>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 WallDrafts. All rights reserved.</p>
                <p class="footer-disclaimer">
                    All wallpapers are free to download. Images belong to their respective owners.
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="{% static 'js/main.js' %}" defer></script>
    <script src="{% static 'js/cookies.js' %}" defer></script>
    <script src="{% static 'js/animations.js' %}" defer></script>

    {% block extra_js %}{% endblock %}

    <script>
        // Mobile menu functionality
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
        const mobileMenuClose = document.getElementById('mobileMenuClose');

        function toggleMobileMenu(show) {
            mobileMenu.classList.toggle('active', show);
            mobileMenuOverlay.classList.toggle('active', show);
            mobileMenuBtn.setAttribute('aria-expanded', show);
            document.body.style.overflow = show ? 'hidden' : '';
        }

        mobileMenuBtn.addEventListener('click', () => toggleMobileMenu(true));
        mobileMenuClose.addEventListener('click', () => toggleMobileMenu(false));
        mobileMenuOverlay.addEventListener('click', () => toggleMobileMenu(false));

        // Close mobile menu when clicking on links
        document.querySelectorAll('.mobile-menu-link').forEach(link => {
            link.addEventListener('click', () => toggleMobileMenu(false));
        });

        // Scroll to top functionality
        const scrollToTopBtn = document.getElementById('scrollToTop');

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        });

        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Theme initialization
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            const themeToggle = document.getElementById('themeToggle');

            if (themeToggle) {
                const icon = themeToggle.querySelector('i');
                icon.className = savedTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            }

            // Set initial ARIA attributes
            mobileMenuBtn.setAttribute('aria-expanded', 'false');
        });
    </script>
</body>
</html>
